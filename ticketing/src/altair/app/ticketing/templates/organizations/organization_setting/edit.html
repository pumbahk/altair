<%inherit file="/layout_2cols.html" />
<%namespace file="/common/helpers.html" name="ch" />

<style>
  .form-horizontal .control-label {
    float: left;
    width: 180px;
    padding-top: 5px;
    text-align: right;
    margin-right: 15px;
  }
  .controls input[type="text"] {
    width: 300px;
  }
</style>

<%block name="breadcrumbs">
  ${ch.breadcrumbs(
      names=[u'トップ', u'取引先', organization.name, u'その他の設定を編集'],
      urls=[
        request.route_path('index'),
        request.route_path('organizations.index'),
        request.route_path('organizations.show', organization_id=organization.id),
      ]
  )}
</%block>

<div class="page-header">
  <h1>取引先 ${route_name}</h1>
</div>
<div class="well">
  <form class="form-horizontal" action="${route_path}" method="POST">
    <fieldset>
      ${ch.form_item(form.id)}
      ${ch.form_item(form.name)}
      ${ch.form_item(form.cart_setting_id)}
      ${ch.form_item(form.margin_ratio)}
      ${ch.form_item(form.refund_ratio)}
      ${ch.form_item(form.printing_fee)}
      ${ch.form_item(form.registration_fee)}
      ${ch.form_item(form.multicheckout_shop_name)}
      ${ch.form_item(form.multicheckout_shop_id)}
      ${ch.form_item(form.multicheckout_auth_id)}
      ${ch.form_item(form.multicheckout_auth_password)}
      ${ch.form_item(form.cart_item_name)}
      ${ch.form_item(form.point_type)}
      ${ch.form_item(form.point_fixed)}
      ${ch.form_item(form.point_rate)}
      ${ch.form_item(form.notify_point_granting_failure)}
      ${ch.form_item(form.notify_remind_mail)}
      ${ch.form_item(form.notify_print_remind_mail)}
      ${ch.form_item(form.contact_pc_url)}
      ${ch.form_item(form.contact_mobile_url)}
      ${ch.form_item(form.bcc_recipient)}
      ${ch.form_item(form.default_mail_sender)}
      ${ch.form_item(form.entrust_separate_seats)}
      ${ch.form_item(form.sales_report_type)}
      ${ch.form_item(form.mail_refund_to_user)}
      ${ch.form_item(form.lot_entry_user_withdraw)}
      ${ch.form_item(form.enable_smartphone_cart)}
      ${ch.form_item(form.enable_mypage)}
      ${ch.form_item(form.recaptcha)}
      ${ch.form_item(form.tapirs)}
      ${ch.form_item(form.enable_discount_code)}
      ${ch.form_item(form.enable_resale)}
      ${ch.form_item(form.enable_price_batch_update)}
      ${ch.form_item(form.enable_passport)}
      ${ch.form_item(form.enable_point_allocation)}
      ${ch.form_item(form.point_group_id)}
      ${ch.form_item(form.point_reason_id)}
      ${ch.form_item(form.orderreview_index)}
      ${ch.form_item(form.enable_word)}
      ${ch.form_item(form.augus_use)}
      ${ch.form_item(form.sitecatalyst_use)}
      ${ch.form_item(form.asid)}
      ${ch.form_item(form.asid_mobile)}
      ${ch.form_item(form.asid_smartphone)}
      ${ch.form_item(form.lot_asid)}
      ${ch.form_item(form.lot_entry_lock)}
      ${ch.form_item(form.famiport_enabled)}
      ${ch.form_item(form.enable_fm_reflection_func)}
      ${ch.form_item(form.i18n)}
      % if form.i18n.data:
        ${ch.form_item(form.default_locale)}
      % else:
        ${ch.form_item(form.default_locale, disabled='disabled')}
      % endif
      ${ch.form_item(form.rendered_template_1, help=ch.help(form.rendered_template_1,
        u'''テンプレートや静的コンテンツを優先して参照するORGディレクトリの指定。<br />
        第1参照テンプレートが自己ORG、第2が__base__（HTML5）が基本的な組み合わせとできるよう移行中。<br />
        なお、__default__（XHTML）は楽天チケットなど古くから存在するORGで使用されているテンプレートです。<br />
        現在、この設定が動作する処理は「<b>cart, lots, orderreview, fc_auth</b>」です。''')
      )}
      ${ch.form_item(form.rendered_template_2, help=ch.help(form.rendered_template_2, u"第1参照テンプレート内にファイルが存在しない場合に参照するディレクトリ"))}
      ${ch.form_item(form.auto_cms)}
      ${ch.form_item(form.event_label)}
      ${ch.form_item(form.show_event_op_and_sales)}
      ${ch.form_item(form.oauth_service_provider)}
      ${ch.form_item(form.oauth_client_id)}
      ${ch.form_item(form.oauth_client_secret)}
      ${ch.form_item(form.oauth_endpoint_authz)}
      ${ch.form_item(form.oauth_endpoint_token)}
      ${ch.form_item(form.oauth_endpoint_token_revocation)}
      ${ch.form_item(form.oauth_endpoint_api)}
      ${ch.form_item(form.oauth_scope)}
      ${ch.form_item(form.openid_prompt)}
      ${ch.form_item(form.enable_agreement_of_policy)}
      ${ch.form_item(form.enable_spa_cart)}
      ${ch.form_item(form.migrate_to_sirius)}
      ${ch.form_item(form.pgw_sub_service_id)}
      ${ch.form_item(form.enable_review_password)}
      ${ch.form_item(form.enable_skidata)}
      ${ch.form_item(form.enable_live_performance)}
    </fieldset>
    <div class="form-actions">
      <input class="btn btn-primary" type="submit" name="submit" value="${route_name}">
    </div>
  </form>
</div>

<script type="text/javascript">
  $(function () {
      $('[rel=popover]').popover({html: true});
  });

  $('#i18n').change(function(){
    if ($(this).is(':checked')) {
      $("#default_locale").prop({'disabled':false});
    } else {
      $("#default_locale").prop({'disabled':true});
    }
  });
</script>