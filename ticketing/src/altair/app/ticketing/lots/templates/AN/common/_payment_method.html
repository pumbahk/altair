<%page args="custom_locale_negotiator, m, target" />
%if target=='name':
  % if custom_locale_negotiator=='en':
    % if 'en' in m.payment_method.preferences:
      ${m.payment_method.preferences[u'en'][u'name']}
    % endif
  % elif custom_locale_negotiator=='ja':
    ${m.payment_method.name}
  % elif custom_locale_negotiator=='zh_CN':
    % if 'zh_CN' in m.payment_method.preferences:
      ${m.payment_method.preferences[u'zh_CN'][u'name']}
    % endif
  % elif custom_locale_negotiator=='zh_TW':
    % if 'zh_TW' in m.payment_method.preferences:
      ${m.payment_method.preferences[u'zh_TW'][u'name']}
    % endif
  % else:
    ${m.payment_method.name}
  % endif
%elif target=='description':
  % if custom_locale_negotiator=='en':
    % if 'en' in m.payment_method.preferences:
      ${m.payment_method.preferences[u'en'][u'description'] or '' | n}
    % endif
  % elif custom_locale_negotiator=='ja':
    ${m.payment_method.description or '' | n}
  % elif custom_locale_negotiator=='zh_CN':
    % if 'zh_CN' in m.payment_method.preferences:
      ${m.payment_method.preferences[u'zh_CN'][u'description'] or '' | n}
    % endif
  % elif custom_locale_negotiator=='zh_TW':
    % if 'zh_TW' in m.payment_method.preferences:
      ${m.payment_method.preferences[u'zh_TW'][u'description'] or '' | n}
    % endif
  % else:
    ${m.payment_method.description or '' | n}
  % endif
% endif
