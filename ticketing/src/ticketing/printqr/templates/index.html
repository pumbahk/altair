<%inherit file="./base.html"/>

<style type="text/css">
#wrapper{
    margin-top: 100px; 
}
body {
	font: 17px "Helvetica Neue", Helvetica, Arial, sans-serif;
}
</style>

<script type="text/javascript">
  ## todo: move
  <%include file="./app.js"/>
$(function(){
  var api_resource = ${json.dumps(api_resource)|n}
  var app_router = new AppRouter();
  var one = new QRInputView({api_resource: api_resource, el: $("#one")});
  var two = new TicketInfoView({api_resource: api_resource, el: $("#two")});
  var three = new PrinterSelectView({api_resource: api_resource, el: $("#three")});
  var four = new PrintConfirmView({api_resource: api_resource, el: $("#four")});
  one.nextview = two;
  two.nextview = three;
  three.nextview = four;
  
  //Backbone.history.start({pushState: true,  root: "/"})
Backbone.history.start({root: "/"})
  app_router.start.call(app_router);
})
</script>

<div id="wrapper" class="container">
  <div id="tabbar">
    <ul class="nav nav-tabs">
      <li><a id="tab_one" href="#one" data-toggle="tab" class="active">one</a></li>
      <li><a id="tab_two" href="#two" data-toggle="tab">two</a></li>
      <li><a id="tab_three" href="#three" data-toggle="tab">three</a></li>
      <li><a id="tab_four" href="#four" data-toggle="tab">four</a></li>
    </ul>
  </div>

  <div id="one" class="onepage hide">
    <h2 class="header" id="one:header">QRコード読み込み</h2>
    <p>
      qrコードを読み込ませてください。
    </p>

    <div class="form-inline">
      <label>qrcode: <input type="password" name="qrcode" value="J1CH40PMHH3RSNHKTN1210131QSNH000000031ZSK0SADTI9GU1O1F $72$7B$5SH 4*H. 12*2O"></input></label>
      <a class="btn" id="load_button">読み込み</a>
    </div>

    <div id="one:status-box">
      status:
      <span id="one:status">preload</span>
    </div>
    <a class="btn" href="#two"><i class="icon-arrow-right"> </i>次へ</a>
  </div>

  <div id="two" class="onepage hide">
    <h2 class="header" id="two:header">チケット情報</h2>
    <p>
      購入されたチケット情報は以下のとおりです。
    </p>
    <table class="table">
      <tbody>
        <tr>
          <td>購入者</td><td id="user"></td>
        </tr>
        <tr>
          <td>発券番号</td><td id="codeno">2</td>
        </tr>
        <tr>
          <td>注文番号</td><td id="orderno">NH000000031K</td>
        </tr>
        <tr>
          <td>パフォーマンス</td><td id="performance_name">NHKTN1210131 </td>
        </tr>
        <tr>
          <td>公演日時</td><td id="performance_date">2012-10-13 14:00:00</td>
        </tr>
        <tr>
          <td>商品名</td><td id="product_name">商品名 2F自由/大人 (162) </td>
        </tr>
        <tr>
          <td>席番号</td><td id="seatno"></td>
        </tr>
      </tbody>
    </table>

    <a class="btn btn-inverse" href="#one"><i class="icon-arrow-left icon-white"> </i>戻る</a>    
    <a class="btn" href="#three"><i class="icon-arrow-right"> </i>次へ</a>
  </div>

  <div id="three" class="onepage hide">
    <h2 class="header" id="three:header">プリンタ選択</h2>
    <p>
      印刷に利用するプリンタを選んでください
    </p>
    <div id="three:printer-box">
      <div class="control-group">
        print0 <input type="radio" name="printer" value="printer0">
      </div>
      <div class="control-group">
        print1 <input type="radio" name="printer" value="printer1">
      </div>
      <div class="control-group">
        print2 <input type="radio" name="printer" value="printer2">
      </div>
    </div>
    <a class="btn btn-inverse" href="#two"><i class="icon-arrow-left icon-white"> </i>戻る</a>
    <a class="btn" href="#four"><i class="icon-arrow-right"> </i>プリンタを選択</a>
  </div>

  <div id="four" class="onepage hide">
    <h2 class="header" id="four:header">発券確認</h2>
    <p>
      印刷します。よろしいですか？
    </p>
    <a class="btn btn-inverse" href="#">キャンセル</a>
    <a class="btn" href="#">印刷する</a>
  </div>
</div>

