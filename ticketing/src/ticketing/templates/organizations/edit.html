<%inherit file="/layout_2cols.html" />
<%namespace file="/common/helpers.html" name="h" />

<style>
  .form-horizontal .control-label {
    float: left;
    width: 180px;
    padding-top: 5px;
    text-align: right;
    margin-right: 15px;
  }
</style>

<%
  if request.matched_route.name == 'organizations.new':
    route_name = u'登録'
    route_path = request.route_path('organizations.new')
  else:
    route_name = u'編集'
    route_path = request.route_path('organizations.edit', organization_id=form.id.data)
%>
<div class="breadcrumbs">
  ${h.breadcrumbs(
      names=[u'トップ', u'取引先', route_name],
      urls=[
        request.route_path('index'),
        request.route_path('organizations.index'),
      ]
  )}
</div>

<div class="page-header">
  <h1>取引先 ${route_name}</h1>
</div>

<div class="content">
  ${h.flash_messages(request)}
  ${h.alert_message(form)}
</div>

<div class="well">
  <form class="form-horizontal" action="${route_path}" method="POST">
    <fieldset>
      ${h.form_item(form.id)}
      ${h.form_item(form.name, option={'class':'span5', 'maxlength':255})}
      ${h.form_item(form.code, option={'maxlength':2})}
      ${h.form_item(form.client_type)}
      ${h.form_item(form.contact_email)}
      ${h.form_item(form.prefecture_id)}
      ${h.form_item(form.city, option={'class':'span5'})}
      ${h.form_item(form.address, option={'class':'span5'})}
      ${h.form_item(form.street, option={'class':'span5'})}
      ${h.form_item(form.other_address, option={'class':'span5'})}
      ${h.form_item(form.tel_1)}
      ${h.form_item(form.tel_2)}
      ${h.form_item(form.fax)}
    </fieldset>
    <div class="form-actions">
      <input class="btn btn-primary" type="submit" name="submit" value="${route_name}">
    </div>
  </form>
</div>
