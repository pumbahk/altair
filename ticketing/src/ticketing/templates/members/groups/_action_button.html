<%namespace file="/common/helpers.html" name="h" />
<%namespace file="/common/modal.html" import="delete_modal" />

<script type="text/javascript">
  function new_pdmp() {
    $(location).attr('href', '${request.route_path('payment_delivery_method_pairs.new', sales_segment_id=sales_segment.id)}');
  }
  function edit_pdmp() {
    var id = get_id('payment_delivery_method_pair_id');
    if (!id) return;
    $(location).attr('href', '/events/payment_delivery_method_pairs/edit/' + id);
  }
  function delete_pdmp() {
    var id = get_id('payment_delivery_method_pair_id');
    if (!id) return;
    var modal = $('#modal-delete');
    modal.find('#delete').attr('href', '/events/payment_delivery_method_pairs/delete/' + id);
    modal.find('#message').text('選択した決済配送方法を削除します。よろしいですか？');
    modal.modal('toggle');
  }
</script>

<%
  actions = {
    'new':dict(
      label=u'新規',
      url='javascript:new_member_group();',
      icon='icon-plus',
    ),
    'edit':dict(
      label=u'編集',
      url='javascript:edit_member_group();',
      icon='icon-pencil',
    ),
    'delete':dict(
      label=u'削除',
      url='javascript:delete_member_group();',
      icon='icon-minus',
    ),
  }
  order = iter(order or ['new', 'copy', 'show', 'edit', 'delete'])
%>
${h.action_button(actions, order)}

${delete_modal()}
