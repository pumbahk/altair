(function(e,t){function f(){var e,t;for(e in a){t=a[e].sheet;try{(t&&!t.cssRules||t.cssRules.length!=null)&&a[e].onload()}catch(n){(n.code===1e3||n.message==="security"||n.message==="denied")&&a[e].onload()}}}function l(t,i,l){var c,h=e("<link/>",{charset:t.scriptCharset||"",media:t.media||"all",rel:"stylesheet",type:"text/css"}).appendTo(n)[0];return i&&(a[c=o++]=h,u++||(s=setInterval(f,13))),h.onload=function(e){h.onload&&(i&&(delete a[c],--u||clearInterval(s)),h.onload=null,e===!0?(h.href=r,n.removeChild(h)):l(h))},h.href=t.url,h.onload}function c(e){return(new Function("return ("+e+");"))()}var n=document.head||e("head")[0]||document.documentElement,r="data:text/css,",i=e.Deferred(function(e){var t=l({url:r},!1,function(){e.resolve(!1)});setTimeout(function(){t(!0),e.resolve(!0)},0)}),s,o=0,u=0,a={};e.ajaxPrefilter("css",function(e){e.cache===t&&(e.cache=!1),e.type="GET",e.async=!0,e.global=!1}),e.ajaxTransport("css",function(n){var r;return{send:function(s,o){r=e.noop,i.done(function(i){r&&(r=l(n,i,function(n){r=t,o(200,"OK",{css:e(n)})}))})},abort:function(){if(r){var e=r;r=t,e(!0)}}}}),e.ajaxPrefilter("img",function(e){e.cache==null&&(e.cache=!1),e.type="GET",e.async=!0}),e.ajaxTransport("img",function(e){var t;return{send:function(n,r){var i=new Image;t=function(e){var n=i;t=i=i.onload=i.onerror=null,e!=null?e?r(200,"OK",{img:n}):r(404,"Not Found"):n.src=null},i=new Image,i.onload=function(){t(!0)},i.onerror=function(){t(!1)},i.src=e.url},abort:function(){t&&t()}}}),e.ajaxPrefilter(function(e){e.laxjson&&(e.converters["text json"]=c)});var h={};e.ajaxPrefilter(function(e){if(e.type==="GET"&&e.cache&&typeof e.cache=="string")return e.global=!1,e._url=e.url,"pagecache"}),e.ajaxTransport("pagecache",function(n,r,i){n.dataTypes.shift();var s,o;return{send:function(t,i){s=n.cache+" "+n.url,o=h[s]||(h[s]=e.ajax(e.extend(r,{url:n._url,beforeSend:null,cache:!0,dataType:n.cache,headers:t,success:null,error:null,complete:null,timeout:0}))),o.always(function(e){if(o){var t;o.state()==="resolved"&&(t={},t[n.cache]=e),i(o.status,o.statusText,t,o.getAllResponseHeaders())}})},abort:function(){o=t}}}),e.Deferred=function(t){function i(e,t,n){return function(r){if(e.state()!=="pending")return;var i,s;try{i=t(r)}catch(o){s=o}(s?e.reject:n?e.resolve:e.notify)(s||i)}}function s(t){return function(){var r=e.Deferred(),s=0,o,u;for(o in n)u=arguments[s],t[o](u&&e.isFunction(u)?i(r,u,s<2):r[n[o]]),s++;return r.promiseA()}}var n={done:"resolve",fail:"reject",progress:"notify"},r=[].slice;return function(e){var n=t(),i={then:s(n),get:function(e){return i.then(function(t){return t[e]})},call:function(e){var t=r.call(arguments,1);return i.then(function(n){return n[e].apply(n,t)})}};return n.promiseA=function(){return i},e&&e.call(n,n),n}}(e.Deferred),e.ajaxPrefilter(function(n,r,i){if(n.retry){var s=n.url,o=i.promise();n._retried?n.success=n.error=n.complete=t:r=e.extend({},r,{_retried:!0}),i.pipe(null,function(){return n.retry.call(n.context||n,r,i)?e.ajax(r.url||s,r):o}).promise(i),i.success&&(i.success=i.done,i.error=i.fail,i.complete=function(e){return i.always(function(t,n,r){e.fireWith(this,[i.state()==="resolved"?r:t])}),e.add}(e.Callbacks("once memory")))}});var p={},d=[].slice;e.Topic=function(t){var n,r,i=t&&p[t];return i||(n=e.Callbacks(),i={publish:n.fire,subscribe:n.add,unsubscribe:n.remove},t&&(p[t]=i)),i},e.each(e.Topic(),function(t){e[t]=function(n){n=e.Topic(n),n[t].apply(n,d.call(arguments,1))}}),e.ajaxPrefilter(function(t,n,r){var i=t.validate;if(i&&e.isFunction(i)){var s=t.context||t,o;try{o=i.call(s,n.data,t)}catch(u){o=u}o&&(e.Deferred().rejectWith(s,[r,"validationerror",o]).promise(r),r.success&&(r.success=r.done,r.error=r.fail,r.complete=e.Callbacks("once memory").fireWith(s,[r,"validationerror"]).add),r.abort(),r.fail(t.error),r.complete(t.complete))}}),e.each("when whenever".split(" "),function(t,n){e[n+"All"]=function(t,r){return e[n].apply(e,e.map(t,r))}}),e.each("when whenever".split(" "),function(t,n){e[n+"Array"]=function(t){return e[n].apply(e,t||[])}});var v=[].slice;e.whenever=function(t){var n=0,r=v.call(arguments),i=r.length||1,s=i,o=e.Deferred(),u=function(e,t,n,r){return function(u){t[e]=this,n[e]=arguments.length>1?v.call(arguments):u,r?(n[e]={state:r,value:n[e]},--s||(i===1?o.resolveWith(t[0],[n[0]]):o.resolveWith(t,n))):o.notifyWith(t,n)}},a=new Array(i),f=new Array(i),l=new Array(i);for(;n<i;n++)r[n]&&e.isFunction(r[n].promise)?r[n].promise().progress(u(n,f,a)).done(u(n,l,r,"resolved")).fail(u(n,l,r,"rejected")):u(n,l,r,"resolved")(r[n]);return o.promise()},window.XDomainRequest&&e.ajaxTransport(function(n){if(n.crossDomain&&n.async){n.timeout&&(n.xdrTimeout=n.timeout,delete n.timeout);var r;return{send:function(i,s){function o(n,i,o,u){r.onload=r.onerror=r.ontimeout=e.noop,r=t,s(n,i,o,u)}r=new XDomainRequest,r.onload=function(){o(200,"OK",{text:r.responseText},"Content-Type: "+r.contentType)},r.onerror=function(){o(404,"Not Found")},r.onprogress=e.noop,r.ontimeout=function(){o(0,"timeout")},r.timeout=n.xdrTimeout||Number.MAX_VALUE,r.open(n.type,n.url),r.send(n.hasContent&&n.data||null)},abort:function(){r&&(r.onerror=e.noop,r.abort())}}}})})(jQuery);