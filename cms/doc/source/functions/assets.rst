.. _function_asset:

アセット管理
======================

機能
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

管理対象オブジェクトに対して以下の操作が行える。

+ イベント作成時に、管理対象オブジェクトを登録

  + 登録はイベント単位で行われる。

+ (アップロードした画像全てを一覧で表示できる書庫の機能を持つ)

  + 一覧から、 :ref:`tag` の機能を用いて絞り込み検索
  + 一覧から選択した管理対象オブジェクトを削除
  + 一覧からアップロードした画像をダウンロード

:管理対象オブジェクト: 画像、動画、Flash

.. note:: 複数のサイトが登録されている状態の時、サイト管理者は自分の管理するサイトのアセット以外みることができないという機能も必要。

.. note:: イベント単位でアセットを管理したいという仕様が存在する。これは、保存時に内部用チケットを登録してあげれば良いかもしれない。

保存先について
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

ファイル保存先はAmazon S3の想定。
ローカルにもバックアップを保持する。

一度利用した画像を使いまわしたい場合のフロー
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

基本的には、利用する毎に同じ画像をアップロードし直す。実際の手順は以下の通り

#. 過去にアップロードした画像が手元にない場合は、上記の書庫の機能を用いて利用したい画像を探す。
#. 利用したい画像を見つけられたら、手元に画像をダウンロードする。
#. ダウンロードした画像を再度アップロードする。(ディスク上には、複数の重複した画像のファイルが置かれることになる。)


画像管理
-------------

http://dev.ticketstar.jp/redmine-altair/issues/118

対応する画像フォーマット、容量等（フォームバリデーションでフィルタする想定）。

* JPEG
* GIF
* PNG
* ファイルあたり5MBまで
* 横幅を制限する（TBD. 1024px?）

.. note:: システム上でのリサイズは行わない。サイト管理者が各ウィジェット用に適したサイズの画像をアップロードする想定。

.. note:: バリデーション時のメッセージは新設なものである必要があるとのこと。(どのように操作すれば解決可能かわかる必要がある)
