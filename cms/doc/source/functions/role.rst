ロール管理
====================

本機能は、サイト管理者は個々のオブジェクトを操作する際の権限管理を提供する。
事前に閲覧のみ、編集者、メールマガジン管理者といったロールを定義し、
サイト管理者に対して割り当てることでセキュリティを確保する。


=================
ロール一覧
=================

ロールと操作の可否。

.. csv-table::
   :header: ロール名, 対象モデル, 表示, 作成, 編集, 削除, 備考

   イベント閲覧, イベント, o, --, --, --, バックエンド側で編集を行う
   チケット閲覧, チケット（パフォーマンス）, o, --, --, --, バックエンド側で編集を行う
   ページ閲覧, レイアウト、ページ, o, --, --, --,
   ページ編集, レイアウト、ページ, o, o, o, o,
   トピック閲覧, トピック, o, --, --, --,
   トピック編集, トピック, o, o, o, o,
   メールマガジン閲覧, メールマガジン, o, --, --, --,
   メールマガジン作成、配信, メールマガジン, o, o, o, o,
   サイト管理者設定, オペレータ, o, --, --, --,

.. note:: ウィジェットの作成編集は、ページ編集ロールと同義。

=====================
ロールの設定
=====================

TBD


=====================
ロール確認動作
=====================

ロール確認はページ表示時にpyramidの認証ポリシ管理機能
（ `authorization policy <http://readthedocs.org/docs/pyramid/en/1.2-branch/glossary.html#term-authorization-policy>`_ ）により行う。
ロールを持たないユーザはHTTPForbiddenオブジェクトのスローによりログインページが表示される。
