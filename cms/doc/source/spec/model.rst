データモデル
=========================

.. blockdiag::

   diag {

     クライアント;
     オペレータ（サイト管理者）;
     権限;
     イベント;
     ページ;
     タグ;
     トピック;

     クライアント <-> オペレータ（サイト管理者）;
     オペレータ（サイト管理者） -> 権限 [dir = none];

     クライアント -> イベント -> 公演;
     クライアント -> 席図 -> 公演;
     クライアント -> 券種 -> 公演;
     クライアント -> ページ;
     クライアント -> アセット;
     クライアント -> ウィジェット;

     クライアント -> レイアウト -> ページ;

     ページ -> 使用ウィジェット [dir = none];
     ページ -> タグ [dir = none];

     アセット -> 画像;
     アセット -> 動画;
     アセット -> Flash;

     クライアント -> ユーザ -> 購入履歴;

     ウィジェット -> トピック;
     ウィジェット -> フリーテキスト;
     ウィジェット -> Facebook;
     ウィジェット -> Twitter;
     ウィジェット -> 広告;

   }

ER
==================

.. image:: ../images/schema.png
