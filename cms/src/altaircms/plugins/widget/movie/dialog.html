<%namespace file="../components.html" name="co"/>

## movie widget dialog
##  view function is views.MovieWidgetView.dialog
##
## N個ごとに区切られたitreratorを受け取り、divで区切って出力(scrollのため)
<%def name="render(assets)">
  % for g in assets:
  <div>
     % for movie in g:
       <div class="item">
         <img pk="${movie.id}" src="${h.asset.rendering_object(request,movie).image_path}" alt="" class="${"managed" if widget.asset==movie else ""}"/>
         <table class="item-table">
           <tr><td>title:</td><td>${movie.title}</td></tr>          
           <tr><td>width:</td><td>${movie.width}</td></tr>
           <tr><td>height:</td><td>${movie.height}</td></tr>
         </table>
       </div>
     % endfor          
  </div>
  % endfor 
</%def>

<div class="title">
  <h1>動画(movie)</h1>
</div>

<div>
<table class="table">
  <tbody>
    ${co.formfield(form, "width")}
    ${co.formfield(form, "height")}
    ${co.formfield(form, "alt")}
    ${co.formfield(form, "align")}
  </tbody>
</table>
<button type="button" id="movie_submit">登録</button>

<link rel="stylesheet" type="text/css" href="/plugins/static/css/widget/lib/image.css">
<!-- "previous page" action -->
<a class="prev browse left"></a>
<a class="next browse right"></a>
<div class="navi"></div>    

<!-- root element for scrollable -->
<div class="scrollable">   
   <!-- root element for the items -->
   <div class="items">
   ${render(assets)}
   </div>
</div>
</div>
