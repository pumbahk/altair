<?xml version="1.0" encoding="utf-8"?>
<nlog xmlns="http://www.nlog-project.org/schemas/NLog.xsd" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
  <extensions>
    <add assembly="NLog.Target.Fluentd"/>
  </extensions>
	<targets>
		<target name="logfile" xsi:type="File" fileName="log.txt" layout="${longdate} ${level} ${callsite}:${message}${newline}${exception:format=ToString,StackTrace}" />
		<target name="console" xsi:type="Console" layout="${longdate} ${level} ${message}${exception:format=ToString,StackTrace}" />
    <target name="fluentd" xsi:type="Fluentd" layout="${longdate}|${level}|${callsite}|${logger}|${message}${exception:format=ToString,StackTrace}"
            Host="127.0.0.1"
            Port="24224"
            Tag="altair.checkinstation"
            ReceiveBufferSize="8192"
            SendBufferSize="8192"
            ReceiveTimeout="1000"
            sendTimeout="1000"
            LingerEnabled="true"                        
            />
	</targets>
	<rules>
		<logger name="*" minlevel="Debug" writeTo="logfile" />
    <logger name="*" minlevel="Debug" writeTo="fluentd" />
<!--		<logger name="*" minlevel="Debug" writeTo="console" />-->
	</rules>
</nlog>